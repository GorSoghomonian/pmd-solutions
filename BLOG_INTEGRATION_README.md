# Blog API Integration - Next.js

## üöÄ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API –±–ª–æ–≥–æ–≤
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å API `http://localhost:4000/api/blogs`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏ (`?lang=ru` / `?lang=en`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (`?category=tech`)
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è (`?page=1&limit=10`)

### 2. –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
src/
‚îú‚îÄ‚îÄ app/[locale]/blog/
‚îÇ   ‚îú‚îÄ‚îÄ page.js                 # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–æ–≥–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π!)
‚îÇ   ‚îú‚îÄ‚îÄ FeatureArticle.js       # –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îÇ   ‚îú‚îÄ‚îÄ CategoryArticle.js      # –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API
‚îÇ   ‚îú‚îÄ‚îÄ [slug]/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.js            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ (–ù–û–í–´–ô!)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ not-found.js       # 404 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–æ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ create/
‚îÇ       ‚îú‚îÄ‚îÄ page.js            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ CreateBlogForm.js  # –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
‚îú‚îÄ‚îÄ lib/api.js                 # API —Ñ—É–Ω–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ components/
    ‚îî‚îÄ‚îÄ molecules/BlogPostCard.js
```

### 3. API —Ñ—É–Ω–∫—Ü–∏–∏

#### `getBlogData(locale, filters)`
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±–ª–æ–≥–æ–≤
const blogData = await getBlogData('ru', { 
  category: 'tech', 
  limit: 10, 
  page: 1 
});
```

#### `getBlogPost(slug, locale)`
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
const { post, error } = await getBlogPost('blog-44', 'ru');
```

#### `createBlogPost(formData)`
```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞
const { post, error } = await createBlogPost(formData);
```

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API
```json
{
  "total": 19,
  "page": 1,
  "pageCount": 2,
  "blogs": [
    {
      "id": 44,
      "image": "/uploads/blogs/blog-xxx.jpg",
      "carousel_images": ["/uploads/carousel/carousel-xxx.jpg"],
      "created_at": "2025-09-17T09:51:37.391Z",
      "author": {
        "id": 16,
        "name": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
        "email": "admin@pmd.local"
      },
      "contents": [
        {
          "language": { "code": "en" },
          "title": "Hello World",
          "subtitle": "Subtitle here",
          "content": "<h1>HTML content</h1>"
        }
      ]
    }
  ]
}
```

### 5. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
API –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

```javascript
// –ò–∑ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API
{
  id: 44,
  contents: [{ language: { code: "en" }, title: "Hello" }],
  image: "/uploads/blogs/blog-xxx.jpg"
}

// –í –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è UI
{
  id: 44,
  slug: "blog-44",
  title: "Hello",
  excerpt: "Subtitle here",
  image: "http://localhost:4000/uploads/blogs/blog-xxx.jpg",
  href: "/en/blog/blog-44"
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)
```bash
# –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
HUBSPOT_BASE_URL=http://localhost:4000

# –î–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  
NEXT_PUBLIC_API_URL=http://localhost:4000
```

### 2. –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤:
- `messages/en.json` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
- `messages/ru.json` - —Ä—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (SSR)
1. `BlogPage` ‚Üí `getBlogData(locale)` ‚Üí API –∑–∞–ø—Ä–æ—Å ‚Üí –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. SEO-friendly, –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞
1. `BlogSection` ‚Üí `useEffect` ‚Üí `getBlogData(locale, {limit: 3})` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. `CategoryArticle` ‚Üí –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –Ω–æ–≤—ã–π API –∑–∞–ø—Ä–æ—Å ‚Üí —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ—Å—Ç—ã
1. URL: `/blog/blog-44` ‚Üí `getBlogPost('blog-44', locale)` ‚Üí —Ä–µ–Ω–¥–µ—Ä –ø–æ—Å—Ç–∞
2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### Fallback —Å–∏—Å—Ç–µ–º–∞
```
API –∑–∞–ø—Ä–æ—Å ‚Üí –û—à–∏–±–∫–∞? ‚Üí –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ messages ‚Üí –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
```

## üéØ –ú–∞—Ä—à—Ä—É—Ç—ã

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `/blog` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–æ–≥–∞ |
| `/blog/blog-44` | –û—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Å—Ç (ID 44) |
| `/blog/create` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ |
| `/ru/blog` | –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è –±–ª–æ–≥–∞ |
| `/en/blog` | –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è –±–ª–æ–≥–∞ |

## üöÄ –ó–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∞—à API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://localhost:4000`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env.local` (—Å–º. –≤—ã—à–µ)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `npm run dev`
5. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/blog`

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–ª–æ–≥–æ–≤ –∏–∑ API
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (ru/en)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤
- ‚úÖ Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- ‚úÖ SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ HTML –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –ø–æ—Å—Ç–∞—Ö
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∫–∞—Ä—É—Å–µ–ª–∏

## üé® –î–∏–∑–∞–π–Ω
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –ö—Ä–∞—Å–∏–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- Responsive –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
